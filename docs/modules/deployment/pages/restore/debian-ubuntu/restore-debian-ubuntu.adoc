[[restore-debian-ubuntu]]
.Restore User/Group definition

[source, console]
----
sudo echo /tmp/opennms-passwd.txt >> /etc/passwd
sudo echo /tmp/opennms-group.txt >> /etc/group
----

.Restore OpenNMS {page-component-title} binaries, logs, RRD archives, configurations

[source, console]
----
sudo tar -xzf /tmp/opennms.tar.gz -C / && \
sudo tar -xzf /tmp/etc-opennms.tar.gz -C / && \
sudo tar -xzf /tmp/var-lib-opennms.tar.gz -C / && \
sudo tar -xzf /tmp/usr-share-java-opennms.tar.gz -C
----

.Create OpenNMS systemd unit
[source, console]
----
sudo cp /etc/opennms/opennms.service /lib/systemd/system/ && \
sudo systemctl daemon-reload
----

.Install PostgreSQL Database
[source, console]
----
sudo apt -y install postgresql
----

.Restore OpenNMS Database
[source, console]
----
sudo runuser -l postgres -c 'psql -f /tmp/opennms_postgres.dmp postgres'
----

.Install OpenJDK
[source, console]
----
apt-get install openjdk-11-jdk
sudo /usr/share/opennms/bin/runjava -s
----

.Run `install -dis` command
[source, console]
----
sudo /usr/share/opennms/bin/install -dis
----

.Start OpenNMS service

[source, console]
----
sudo systemctl start opennms
----
