
Your {page-component-title} repository is defined in a file in `/etc/yum.repos.d/`.

ifeval::["{page-component-title}" == "Horizon"]
It may be named `opennms-repo-stable-<OSversion>.repo but is not guaranteed to be.
endif::[]

ifeval::["{page-component-title}" == "Meridian"]
It may be named {page-component-title}.repo but is not guaranteed to be.
endif::[]

. Become root.

. Use the text editor of your choice to edit your {page-component-title} repository config to change the `baseurl` of the repository from the old release family to the new release family.
. Enable auto updates:
+
[source, console]
----
yum -y install yum-utils
yum-config-manager --enable opennms-repo-stable-*
----

Verify that the attribute `enabled=1` is defined, or enabled, or absent entirely.
. Purge any cached yum data:
+
[source, console]
----
yum clean all
----

. Make a backup copy of your OpenNMS config:

+
[source, console]
----
rsync -Ppav /opt/opennms/etc /tmp/etc.orig
rsync -Ppav /opt/opennms/jetty-webapps/opennms/WEB-INF /tmp/opennms-web-inf
----

. Upgrade the {page-component-title} packages to the new version:
+
[source, console]
----
yum -y upgrade opennms
----

. Install Java 11:
+
[source, console]
----
yum -y install java-11-openjdk java-11-openjdk-devel
----

. Execute runjava:
+
[source, console]
----
$OPENNMS_HOME/bin/runjava -s
----

. Handle your config file changes.

. Run the opennms installer:
+
[source, console]
----
$OPENNMS_HOME/bin/install -dis
----
+

Expected result: A long delay, followed by output containing: `Upgrade completed successfully!`

. Clear the Karaf cache:
+
[source, console]
----
yes | $OPENNMS_HOME/bin/fix-karaf-setup.sh
----

. Start OpenNMS {page-component-title}:
+
[source, console]
----
systemctl start opennms.service
----
+
NOTE: `tail -F /var/log/opennms/manager.log` can illustrate at what point in the startup process {page-component-title} is currently.

. Upgrade is complete and operation is resumed.

NOTE: If you upgrade in place, OpenNMS renames any shipped config that conflicts with an existing user-modified config to `.rpmnew`.
You must inspect these files manually and reconcile the differences.
Use `diff -Bbw` and `diff -y`.