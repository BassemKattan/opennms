= DNS Service Detector

This detector is build to test the availability of the _DNS service_ on remote IP interfaces.
The detector tests the service availability by sending a DNS query for A resource record types against the DNS server to test.

The detector can be simulated with the command line tool `host`:

[source]
----
~ % host -v -t a www.google.com 8.8.8.8
Trying "www.google.com"
Using domain server:
Name: 8.8.8.8
Address: 8.8.8.8#53
Aliases:

;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 9324
;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;www.google.com.			IN	A

;; ANSWER SECTION:
www.google.com.		283	IN	A	74.125.232.17
www.google.com.		283	IN	A	74.125.232.20
www.google.com.		283	IN	A	74.125.232.19
www.google.com.		283	IN	A	74.125.232.16
www.google.com.		283	IN	A	74.125.232.18

Received 112 bytes from 8.8.8.8#53 in 41 ms
----

== Detector facts

[options="autowidth"]
|===
| Implementation | `org.opennms.netmgt.provision.detector.datagram.DnsDetector`
|===

== Configuration and Use

.Parameters for the DNS Service Detector
[options="header, %autowidth"]
|===
| Parameter | Description   | Required | Default value
| `port`    | Port to query | optional | `53`
| `lookup`  | Name to query | optional | `localhost`
|===

== Example Configuration

[source,xml]
----
<detector name="DNS" class="org.opennms.netmgt.provision.detector.datagram.DnsDetector">
  <parameter key="port"   value="53"/>
  <parameter key="lookup" value="localhost"/>
</detector>
----