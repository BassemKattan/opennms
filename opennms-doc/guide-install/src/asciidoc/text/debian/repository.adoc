=== APT Package Repository

Create a new apt source file (eg: `/etc/apt/sources.list.d/opennms.list`), and add the following 2 lines:

.Package repository configuration for Debian-based systems
[source, shell]
----
deb https://debian.opennms.org ${RELEASE} main <1>
deb-src https://debian.opennms.org ${RELEASE} main <1>
----

<1> Replace `${RELEASE}` with a release name like `stable` (recommended), `testing`, or `snapshot`.

Import the packages' authentication key with the following command:

.GPG key import for Debian-based systems
[source, shell]
----
wget -O - https://debian.opennms.org/OPENNMS-GPG-KEY | apt-key add -
----

[[gi-install-opennms-deb-disable-update]]
==== Disable Automatic Updates (Optional)

We recommend you disable automatic updating of the {opennms-product-name} packages to avoid upgrades while it is running.

{opennms-product-name} requires some manual steps upon upgrade to make sure the database and configuration are consistent in the new version, and on systems with many nodes or lots of events, this can take hours.
For this reason, it is recommended to exclude the {opennms-product-name} packages from update except when you are planning on performing an upgrade.

To do so, run:

[source, shell]
----
sudo apt-mark hold libopennms-java \
     libopennmsdeps-java \
     opennms-common opennms-db
----

When you are ready to upgrade {opennms-product-name}, unhold them and upgrade, then hold them again:

[source, shell]
----
sudo apt-mark unhold libopennms-java \
     libopennmsdeps-java \
     opennms-common opennms-db

sudo apt-get upgrade opennms

sudo apt-mark hold libopennms-java \
     libopennmsdeps-java \
     opennms-common opennms-db
----
