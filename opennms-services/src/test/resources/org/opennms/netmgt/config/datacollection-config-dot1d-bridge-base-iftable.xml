<?xml version="1.0"?>
<datacollection-config rrdRepository="%rrdRepository%">
	<snmp-collection name="default" snmpStorageFlag="all">

		<rrd step="300">
			<rra>RRA:AVERAGE:0.5:1:2016</rra>
			<rra>RRA:AVERAGE:0.5:12:1488</rra>
			<rra>RRA:AVERAGE:0.5:288:366</rra>
			<rra>RRA:MAX:0.5:288:366</rra>
			<rra>RRA:MIN:0.5:288:366</rra>
		</rrd>

		<resourceType name="dot1dBasePortEntry" label="dot1d Base Port" resourceLabel="${index}">
			<persistenceSelectorStrategy class="org.opennms.netmgt.collection.support.PersistAllSelectorStrategy" />
			<storageStrategy class="org.opennms.netmgt.collection.support.IndexStorageStrategy" />
		</resourceType>
		
		<groups>

			<group name="ifTable" ifType="all">
			    <mibObj oid=".1.3.6.1.2.1.2.2.1.1"     instance="ifIndex" alias="interfaceIndex" type="string" />
				<mibObj oid=".1.3.6.1.2.1.2.2.1.2"     instance="ifIndex" alias="interfaceDescr" type="string" />
				<mibObj oid=".1.3.6.1.2.1.31.1.1.1.1"  instance="ifIndex" alias="interfaceName"  type="string" />
				<mibObj oid=".1.3.6.1.2.1.31.1.1.1.18" instance="ifIndex" alias="interfaceAlias" type="string" />
			</group>

			<group name="dot1dBasePortTable" ifType="all">
				<mibObj oid=" .1.3.6.1.2.1.17.1.4.1.1" instance="dot1dBasePortEntry" alias="dot1dBasePort"        type="string" />
				<mibObj oid=" .1.3.6.1.2.1.17.1.4.1.2" instance="dot1dBasePortEntry" alias="dot1dBasePortIfIndex" type="string" />
				<mibObj oid=" .1.3.6.1.2.1.17.1.4.1.4" instance="dot1dBasePortEntry" alias="d1dBPDelayExDiscard"  type="counter" />
				<mibObj oid=" .1.3.6.1.2.1.17.1.4.1.5" instance="dot1dBasePortEntry" alias="d1dBPMtuExDiscard"    type="counter" />
				<property instance="dot1dBasePortEntry" alias="dot1dBasePortIfDescr" class-name="org.opennms.netmgt.collectd.InterfaceSnmpPropertyExtender">
					<parameter key="source-ifindex-attribute" value="interfaceIndex"/>
					<parameter key="source-attribute" value="interfaceDescr"/>
					<parameter key="target-ifindex-pointer-column" value="dot1dBasePortIfIndex"/>
				</property>
				<property instance="dot1dBasePortEntry" alias="dot1dBasePortIfName" class-name="org.opennms.netmgt.collectd.InterfaceSnmpPropertyExtender">
					<parameter key="source-ifindex-attribute" value="interfaceIndex"/>
					<parameter key="source-attribute" value="interfaceName"/>
					<parameter key="target-ifindex-pointer-column" value="dot1dBasePortIfIndex"/>
				</property>
				<property instance="dot1dBasePortEntry" alias="dot1dBasePortIfAlias" class-name="org.opennms.netmgt.collectd.InterfaceSnmpPropertyExtender">
					<parameter key="source-ifindex-attribute" value="interfaceIndex"/>
					<parameter key="source-attribute" value="interfaceAlias"/>
					<parameter key="target-ifindex-pointer-column" value="dot1dBasePortIfIndex"/>
				</property>
			</group>

		</groups>

		<systems>
			<systemDef name="Cisco switches or whatever">
				<sysoidMask>.1.3.6.1.4.1.9.</sysoidMask>
				<collect>
					<includeGroup>ifTable</includeGroup>
					<includeGroup>dot1dBasePortTable</includeGroup>
				</collect>
			</systemDef>
		</systems>

	</snmp-collection>
</datacollection-config>
